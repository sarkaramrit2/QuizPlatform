$("#delete-node-button").click(function() {
	var id = $('#node option:selected').attr('value');
	if (confirm("Do u want delete Node ")) {
		deleteNode(id);
	}

});

$("#add-node-button")
		.click(
				function() {

					var name = false;
					var masterSolrIp = false;
					var masterSolrPort = false;
					var type = false;
					var capacity = false;
					var loadFactor = false;
					var optimalLoadFactor = false;
					var slaveElbIp = false;
					var slaveElbPort = false;

					if ($('#name').val() == '') {
						name = false;
						$('#nameError')
								.html(
										'<i class="icon-chevron-left"></i> Please Enter Name');
						errorValidation($('#inputName'));
					} else {
						name = true;
						successValidation($('#inputName'));
						$('#nameError').html('');
					}
					if ($('#masterSolrIp').val() == '') {
						masterSolrIp = false;
						$('#masterSolrIpError')
								.html(
										'<i class="icon-chevron-left"></i> Please Enter Master Solr Ip');
						errorValidation($('#inputMasterSolrIp'));
					} else {
						masterSolrIp = true;
						successValidation($('#inputMasterSolrIp'));
						$('#masterSolrIpError').html('');
					}
					if ($('#masterSolrPort').val() == '') {
						masterSolrPort = false;
						$('#masterSolrPortError')
								.html(
										'<i class="icon-chevron-left"></i> Please Enter Master Solr Port');
						errorValidation($('#inputMasterSolrPort'));
					} else {
						if (/^\d+$/.test($('#masterSolrPort').val())) {
							masterSolrPort = true;
							successValidation($('#inputMasterSolrPort'));
							$('#masterSolrPortError').html('');
						} else {
							masterSolrPort = false;
							$('#masterSolrPortError')
									.html(
											'<i class="icon-chevron-left"></i> Master Solr Port is an Integer');
							warningValidation($('#inputMasterSolrPort'));
						}
					}
					if ($('#type').val() == '') {
						type = false;
						$('#typeError')
								.html(
										'<i class="icon-chevron-left"></i> Please Enter Type');
						errorValidation($('#inputType'));
					} else {
						type = true;
						successValidation($('#inputType'));
						$('#typeError').html('');
					}
					if ($('#capacity').val() == '') {
						capacity = false;
						$('#capacityError')
								.html(
										'<i class="icon-chevron-left"></i> Please Enter Capacity');
						errorValidation($('#inputCapacity'));
					} else {
						if (/^\d+$/.test($('#capacity').val())) {
							capacity = true;
							successValidation($('#inputCapacity'));
							$('#capacityError').html('');
						} else {
							capacity = false;
							$('#capacityError')
									.html(
											'<i class="icon-chevron-left"></i> Capacity is an Integer');
							warningValidation($('#inputCapacity'));
						}
					}
					if ($('#loadFactor').val() == '') {
						loadFactor = false;
						$('#loadFactorError')
								.html(
										'<i class="icon-chevron-left"></i> Please Enter Load Factor');
						errorValidation($('#inputLoadFactor'));
					} else {
						if (/^\d+$/.test($('#loadFactor').val())) {
							capacity = true;
							successValidation($('#inputLoadFactor'));
							$('#loadFactorError').html('');
						} else {
							capacity = false;
							$('#loadFactorError')
									.html(
											'<i class="icon-chevron-left"></i> Load Factor is an Integer');
							warningValidation($('#inputLoadFactor'));
						}
					}
					if ($('#optimalLoadFactor').val() == '') {
						optimalLoadFactor = false;
						$('#optimalLoadFactorError')
								.html(
										'<i class="icon-chevron-left"></i> Please Enter Optimal Load Factor');
						errorValidation($('#inputOptimalLoadFactor'));
					} else {
						if (/^\d+$/.test($('#optimalLoadFactor').val())) {
							optimalLoadFactor = true;
							successValidation($('#inputOptimalLoadFactor'));
							$('#optimalLoadFactorError').html('');
						} else {
							optimalLoadFactor = false;
							$('#optimalLoadFactorError')
									.html(
											'<i class="icon-chevron-left"></i> Optimal Load Factor is an Integer');
							warningValidation($('#inputOptimalLoadFactor'));
						}
					}

					if ($('#slaveElbIp').val() == '') {
						slaveElbIp = false;
						$('#slaveElbIpError')
								.html(
										'<i class="icon-chevron-left"></i> Please Enter Master Solr Ip');
						errorValidation($('#inputSlaveElbIp'));
					} else {
						slaveElbIp = true;
						successValidation($('#inputSlaveElbIp'));
						$('#slaveElbIpError').html('');
					}
					if ($('#slaveElbPort').val() == '') {
						slaveElbPort = false;
						$('#slaveElbPortError')
								.html(
										'<i class="icon-chevron-left"></i> Please Enter Slave Elb Port');
						errorValidation($('#inputSlaveElbPort'));
					} else {
						if (/^\d+$/.test($('#slaveElbPort').val())) {
							slaveElbPort = true;
							successValidation($('#inputSlaveElbPort'));
							$('#slaveElbPortError').html('');
						} else {
							slaveElbPort = false;
							$('#slaveElbPortError')
									.html(
											'<i class="icon-chevron-left"></i> Slave Elb Port is an Integer');
							warningValidation($('#inputSlaveElbPort'));
						}
					}
					if (validationForm()) {
						var name = $('#name').attr('value');
						var masterSolrIp = $('#masterSolrIp').attr('value');
						var masterSolrPort = $('#masterSolrPort').attr('value');
						var type = $('#type').attr('value');
						var capacity = $('#capacity').attr('value');
						var loadFactor = $('#loadFactor').attr('value');
						var optimalLoadFactor = $('#optimalLoadFactor').attr(
								'value');
						var approxCurrentCount = $('#approxCurrentCount').attr(
								'value');
						var slaveElbIp = $('#slaveElbIp').attr('value');
						var slaveElbPort = $('#slaveElbPort').attr('value');
						addNode(name, masterSolrIp, masterSolrPort, type,
								capacity, loadFactor, optimalLoadFactor,
								approxCurrentCount, slaveElbIp, slaveElbPort);
					} else {
						$("#error").html(
								"<div>'All Fields are mandatory!'</div>");
						return name && masterSolrIp && masterSolrPort && type
								&& capacity && loadFactor && loadFactor
								&& optimalLoadFactor && slaveElbIp
								&& slaveElbPort;

					}

				});

$('.wholeNumber').keyup(function() {
	$(this).val($(this).val().replace(/[^-0-9]+/i, ''));
});
function validation(inputId) {
	if ($("#" + inputId).val() != '') {
		removeErrorBox(inputId + "Error");
		if ($('#name').val() != '' && $('#masterSolrIp').val() != ''
				&& $('#masterSolrPort').val() != '' && $('#type').val() != ''
				&& $('#capacity').val() != '' && $('#loadFactor').val() != ''
				&& $('#optimalLoadFactor').val() != ''

				&& $('#slaveElbIp').val() != ''
				&& $('#slaveElbPort').val() != ''
				&& (/^\d+$/.test($('#masterSolrPort').val()))
				&& (/^\d+$/.test($('#capacity').val()))
				&& (/^\d+$/.test($('#loadFactor').val()))
				&& (/^\d+$/.test($('#optimalLoadFactor').val()))

				&& (/^\d+$/.test($('#slaveElbPort').val()))) {
			removeErrorBox("error");
		}
	}

}

function removeErrorBox(errorBoxId) {
	$("#" + errorBoxId).html('');
}

function validationForm() {

	if ($('#name').val() == '' || $('#masterSolrIp').val() == ''
			|| $('#masterSolrPort').val() == '' || $('#type').val() == ''
			|| $('#capacity').val() == '' || $('#loadFactor').val() == ''
			|| $('#optimalLoadFactor').val() == ''

			|| $('#slaveElbIp').val() == '' || $('#slaveElbPort').val() == ''
			|| !(/^\d+$/.test($('#masterSolrPort').val()))
			|| !(/^\d+$/.test($('#capacity').val()))
			|| !(/^\d+$/.test($('#loadFactor').val()))
			|| !(/^\d+$/.test($('#optimalLoadFactor').val()))

			|| !(/^\d+$/.test($('#slaveElbPort').val()))) {

		return false;
	}

	return true;
}
function successValidation(divId) {
	divId.removeClass("has-error");
	divId.removeClass("has-warning");
	divId.addClass("inputSuccess");
}
function warningValidation(divId) {
	divId.removeClass("has-error");
	divId.removeClass("inputSuccess");
	divId.addClass("has-warning");
}
function errorValidation(divId) {
	divId.removeClass("inputWarning");
	divId.removeClass("inputSuccess");
	divId.addClass("has-error");
}
