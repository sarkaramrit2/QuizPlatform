$("#add-category-button").click(function() {
	var nodeId = $('#view-categories option:selected').attr('value');

	var categoryId = $('#productcategory').attr('value');
	if (categoryId == "0") {
		addError("Please select a valid category");
		return false;
	}
	addCategoryIdToNodeId(nodeId, categoryId);

});

$("#fetch-label-button").click(function() {
	var labelPath = $('#label-xpath option:selected').attr('value');
	if (labelPath == "0") {
		addError("Please select a valid bucket");
		return false;
	}
	fetchLabelDetails(labelPath);

});

$("#add-label-button").click(function() {
	var nodeId = $('#label-node option:selected').attr('value');
	if (nodeId == "0") {
		addError("Please select a valid node");
		return false;
	}
	var labelPath = $('#label-xpath option:selected').attr('value');
	if (labelPath == "0") {
		addError("Please select a valid bucket");
		return false;
	}
	addLabelToNodeId(nodeId, labelPath);

});

$("#delete-label-button").click(function() {
	var nodeId = $('#label-node option:selected').attr('value');
	if (nodeId == "0") {
		addError("Please select a valid node");
		return false;
	}
	var labelPath = $('#label-xpath option:selected').attr('value');
	if (labelPath == "0") {
		addError("Please select a valid bucket");
		return false;
	}
	deleteLabelToNodeId(nodeId, labelPath);

});

$("#add-all-button").click(function() {
	alert("Are you sure?");
	addMessage("Adding all buckets...");
	var ajaxUrl = "/admin/shardResolver/addAllBuckets?version=v2"	

	$.ajax({
		url : ajaxUrl,
		type : "POST",
		dataType : 'json',
		success : function(data) {
			var status = data['status'];
			var msg = data['message'];
			if (status == "success") {
				if (msg != "")
					addSuccessMessage(msg);
			} else {
				addError(msg);
			}
		}
	});
});
