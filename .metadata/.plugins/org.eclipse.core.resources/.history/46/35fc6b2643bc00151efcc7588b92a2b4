$("#load-more").hide();
$("#query-submit").prop("disabled", "true");


$("#url-submit").on("click", function() {
	$("#spinner").show();
	$.ajax({
		url: 'getFiltersForCategoryUrl',
		data: {'categoryUrl': $('#filters-url').val()},
		dataType: 'json'
	}).
	  done(function(data){
	  	var compiledTemplate = Hogan.compile($('#activatedFilters').text());
	  	$('#filterTableCtr').html(compiledTemplate.render(data));
	  	$("#query-submit").removeAttr("disabled");
	  	$("#url-submit").prop("disabled", "true");
	  })
	  .
	  fail(function(){
	  	alert('Network Error !');
	  })
	  .always(function(){
	  	$("#spinner").hide();
	  })
});

$("#query-submit").click(function(){
	submitQuery();
});

$("#query-reset").click(function(){
	resetAll();
});


$('#filters-url').on('keydown', function(e){
	console.log("Keydown !");
	$("#url-submit").removeAttr("disabled");
	$("#query-submit").prop("disabled", "true");
});