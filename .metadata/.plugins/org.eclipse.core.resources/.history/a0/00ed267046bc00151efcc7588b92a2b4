
//Returns the campaign pogs for the query.
function setCampaignPogs(data, start, rows) {
	if(data.noOfResults > 0) {
		$("#products").html("");
		for ( var i = 0; i < data.campaignProductDTOs.length; i++) {
			var nameShort = data.campaignProductDTOs[i].name + "";
			if(nameShort.length > 80){
				var nameShort = nameShort.substring(0,80);
				nameShort = nameShort + "...";
			}
			$("#products").append('<div class="well well-lg span2 tile"><b><abbr title="Product Offer Group Id">POGID</abbr>:</b> ' + data.campaignProductDTOs[i].id + 
					'<br/><b><abbr title="">Name</abbr>:</b><abbr title="' + data.campaignProductDTOs[i].name+ '">' + nameShort + '<abbr></div>');
		}
		//Pagination only when filters are changes etc
		if(start == 0) {
			setPagination(data.noOfResults, start, rows, 1, pageSize);
		} else {
			var startPoint = start/rows + 1;
			
			addActiveTab($("#paginationId-" + startPoint));	
			
		}
	}
}

function setPagination(noOfResults, start, rows, startPaginator, paginationSize) {
	var pagination ='';
	var variable = Math.ceil(noOfResults / rows);
	var startPoint = start/rows + 1;
	var endPaginator = startPaginator + paginationSize;
	var leftPaginator = startPaginator - paginationSize;
	pagination = pagination + '<div><ul class="pagination">';
	pagination = pagination + '<li id="leftPaginator" class="disabled"><a onclick="">&laquo;</a></li>';
	for(var i = startPaginator; i <= variable && i < startPaginator + paginationSize; i++) {
		pagination = pagination + '<li id="paginationId-' + i + '"><a class="paginatedPOG" onclick=setPaginatedData('+ i +','+ rows +') >' + i + '</a></li>';
	}
		pagination = pagination + '<li id="rightPaginator" class="disabled"><a onclick="">&raquo;</a></li>';
		pagination = pagination + '</ul></div>';
	$("#paginationTab").html(pagination);
	addActiveTab($("#paginationId-" + startPoint));	
	if(endPaginator <= variable) {
		$("#rightPaginator").removeClass("disabled");
		$("#rightPaginator a").attr('onclick','setPagination(' + noOfResults + ','  + start + ','  + rows  + ',' + endPaginator + ',' + paginationSize + ')').bind('click');
	}
	
	if(leftPaginator >= 0) {
		$("#leftPaginator").removeClass("disabled");
		$("#leftPaginator a").attr('onclick','setPagination(' + noOfResults + ','  + start + ','  + rows  + ',' + leftPaginator + ',' + paginationSize + ')').bind('click');
	}
}

function setPaginatedData(i, rows) {
	var start = (i - 1) * rows;
	getPOGData(start, rows);
}

function addActiveTab(element) {
	$(".active li").each(function() {
		$(this).removeClass("active");
	})
	element.addClass("active");
}

