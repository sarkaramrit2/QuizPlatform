<%@ include file="/tld_includes.jsp"%>
<%@ page language="java" contentType="text/html; charset=UTF-8"
	pageEncoding="UTF-8"%>
<tiles:insertTemplate template="/views/layout/adminBaseTheme.jsp">
	<tiles:putAttribute name="title" value="Solr Info Admin" />
	<tiles:putAttribute name="head">
	</tiles:putAttribute>
	<tiles:putAttribute name="deferredScript">
		<script type="text/javascript"
			src="${path.js('jquery/jquery.dataTables.js')}"></script>
		<script type="text/javascript"
			src="${path.js('jquery/jquery.dataTables.columnFilter.js')}"></script>
		<script type="text/javascript"
			src="${path.js('solr/solr-admin-functions.js')}"></script>
	</tiles:putAttribute>
	<tiles:putAttribute name="body">
		<div id="internal-content">
			<div class="content-bdr">
				<div class="wrapper2">
					<c:if test="${not empty message}">
						<div class="alert alert-danger alert-dismissable">
							<button type="button" class="close" data-dismiss="alert"
								aria-hidden="true">&times;</button>
							${message}
						</div>
					</c:if>
					<div style="margin-left: 10px; margin-right: 10px">
						<c:set var="title" value="Solr Info Admin" />
						<%@include file="brand.jsp"%>
						<div id="message"></div>
						<form method="get" class="form-horizontal"
							action="${path.http}/admin/solr/getInfo"
							enctype="multipart/form-data">
							<div class="form-group info" style="background: none"
								id="dinputId">
								<label class="control-label col-lg-2">POG ID:<span
									class="required">*</span> </label>
								<div class="col-lg-3">
									<input name="id" class="form-control" id="did" type="text"
										value=<c:if test="${not empty pog}">${pog.getId()}</c:if>>
									<span id="didError" class="help-inline"></span>
								</div>
							</div>
							<div class="form-group">
								<div class="col-lg-3 col-lg-offset-2">
									<button class="btn btn-primary" type="submit" id="submit">Submit</button>
								</div>
							</div>
						</form>
						<c:if test="${not empty pog}">
							<br>
							<div class="form-group" align="center">
								<div id="reindex" class="col-lg-3 col-lg-offset-2">
									<button class="btn btn-primary" type="submit"
										id="reindex-submit">Reindex it</button>
								</div>
							</div>
							<br>
							<br>
							<br>
							<table cellpadding="0" cellspacing="0" border="0"
								class="display dataTable" id="info">
								<thead>
									<tr>
										<th>S. No.</th>
										<th>Field Name</th>
										<th>Field Value</th>
									</tr>
								</thead>

								<tbody>
									<c:forEach items="${pog.getFieldNames()}" var="dto"
										varStatus="ctr">
										<tr>
											<td>${ctr.index + 1}</td>
											<td>${dto}</td>
											<td>${pog.getFieldValue(dto)}</td>
										</tr>
									</c:forEach>
								</tbody>
							</table>
						</c:if>
					</div>
				</div>
			</div>
	</tiles:putAttribute>

</tiles:insertTemplate>
