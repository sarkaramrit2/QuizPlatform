<%@ include file="/tld_includes.jsp"%>
<%@ page language="java" contentType="text/html; charset=UTF-8"
	pageEncoding="UTF-8"%>
<tiles:insertTemplate template="/views/layout/adminBaseTheme.jsp">
	<tiles:putAttribute name="title" value="Campaign Details Admin" />
	<tiles:putAttribute name="head">
		<link href="${path.css('jquery/jquery-ui.css')}" rel="stylesheet" type="text/css" />
		<link href="${path.css('typeahead/typeahead.css')}" rel="stylesheet" type="text/css" />
		<link href="${path.css('bootstrap3/bootstrap-datetimepicker.min.css')}"rel="stylesheet" type="text/css" />
		<link href="${path.css('/landingpage.css')}" rel="stylesheet" type="text/css" />
		<link href="${path.css('bootstrap/bootstrap-fileupload.min.css')}" rel="stylesheet" type="text/css" />
		<script type="text/javascript" src="${path.js('jquery/jquery-1.9.1.js')}"></script>
		<script type="text/javascript" src="${path.js('jquery/jquery-ui.js')}"></script>
		<script type="text/javascript" src="${path.js('hogan/hogan-2.0.0.js')}"></script>
		<script type="text/javascript" src="${path.js('typeahead/typeahead.min.js')}"></script>
		<script type="text/javascript">
			var cs = '${campaigns}';
			var campaigns = jsonToObj(cs);
			var tab = '${currentTab}';
			var contextPath = '${contextPath}';
			var pageSize = parseInt('${pageSize}');
			var rowSize = parseInt('${rowSize}');
			var typeaheadLimit = parseInt('${typeaheadLimit}');
		</script>
	</tiles:putAttribute>
	<tiles:putAttribute name="deferredScript">
		<script type="text/javascript" src="${path.js('moment/moment.min.js')}"></script>
		<script type="text/javascript" src="${path.js('bootstrap3/bootstrap-datetimepicker.min.js')}"></script>
		<script type="text/javascript" src="${path.js('landingPage/campaign-admin-functions.js')}"></script>
		<script type="text/javascript" src="${path.js('landingPage/campaign-validations.js')}"></script>
		<script type="text/javascript" src="${path.js('landingPage/landingPage-admin-functions.js')}"></script>
		<script type="text/javascript" src="${path.js('bootstrap3/bootstrap.min.js')}"></script>
		<script type="text/javascript" src="${path.js('bootstrap/bootstrap-fileupload.min.js')}"></script>
	</tiles:putAttribute>

	<tiles:putAttribute name="body">
		<div style="margin-left: 10px; margin-right: 10px">
			<jsp:include page="bootstrap/brand.jsp">
				<jsp:param value="Campaign Admin" name="title" />
			</jsp:include>
			<jsp:include page="landingPage/landingPageToolbar.jsp" />
			
			<div id="message">
				<c:if test= "${not empty success}">
					<c:choose>
						<c:when test="${success}">
							<div class="alert alert-success alert-dismissable">
								<button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
								<h4>Success!</h4>
							</div>
						</c:when>
						<c:otherwise>
							<div class="alert alert-danger alert-dismissable">
								<button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
								<h4>Error!</h4>
								<c:out value="${sheetMessage}"></c:out>
							</div>
						</c:otherwise>
					</c:choose>
				</c:if>
			</div>
			<div class="tabbable tabs-below">
				<!-- Only required for left/right tabs -->
				<ul class="nav nav-tabs">
					<li class="active"><a id="searchCampaign" href="#tab1"
						data-toggle="tab">Search Campaign</a>
					</li>
					<li class=""><a id="addEditCampaign" href="#tab2"
						data-toggle="tab">Add/Edit Campaign</a>
					</li>
					<li class=""><a id="manualPOGs" href="#tab3" data-toggle="" class="disableTab">Manually
							Upload POGs</a>
					</li>
					<li class=""><a id="pogErrors" href="#tab4" data-toggle="" class="disableTab">Error Logs</a>
					</li>
				</ul>
				<div class="tab-content"
					style="height: 400px; padding: 10 px; margin-top: 10px">
					<div class="tab-pane active fade in" id="tab1">
						<div class="row">
							<div class="col-md-5">
								<form class="form-horizontal" role="form">
									<jsp:include page="bootstrap/textInput.jsp">
										<jsp:param value="campaign-search" name="id" />
										<jsp:param value="Select Campaign" name="text" />
										<jsp:param value="col-lg-8" name="size" />
										<jsp:param value="col-lg-4" name="labelSize" />
										<jsp:param value="typeahead" name="inputClass" />
									</jsp:include>
								</form>
							</div>
						</div>
					</div>
					<div class="tab-pane fade" id="tab2">
						<jsp:include page="landingPage/addEditCampaign.jsp" />
					</div>
					<div class="tab-pane fade" id="tab3">
						<div class="row">
							<form class="form-horizontal" role="form">
								<div class="col-md-5">
									<div class="form-group" id="customCampaignNameGroup" style="display:none">
										<label class="control-label col-lg-4" for="">Campaign
											Name</label>
										<h4>
											<span class="label label-primary "
												id="customCampaignName"></span>
										</h4>
									</div>
									<div class="form-group" id="updateTypeSelect" style="display:none">
										<label class="control-label col-lg-4" for="sortBy">Select UpdateType</label>
										<div class="col-lg-6">
											<select id="updateType" class="form-control">
												<option type="${selectedupdateType['value']}">
													<c:out value="${selectedupdateType['name']}" />
												</option>
												<c:forEach var="updateType" items="${updateTypes}">
													<option type="${updateType.value}">
														<c:out value="${updateType.name()}" />
													</option>
												</c:forEach>
											</select>
										</div>
									</div>
								</div>
							</form>
								
							<div class="col-md-7" id="campaignCustom" style="display: none">
								<jsp:include page="landingPage/landingPageTrebutchet.jsp" />
							</div>
						</div>
						<div id ="manualProductsData"></div>
					</div>
					<div class="tab-pane fade" id="tab4">
							<jsp:include page="landingPage/landingPageTrebuchetErrors.jsp" />
					</div>
				</div>
			</div>
		</div>
	</tiles:putAttribute>
</tiles:insertTemplate>